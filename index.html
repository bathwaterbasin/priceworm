<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Priceworm - The Four Sacred Times</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: #0a0e27;
            color: #e0e0e0;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        #background-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('bkg-raw.jpg');
            background-size: cover;
            background-position: center;
            opacity: 0.15;
            z-index: 0;
            transition: opacity 2s;
        }

        #glitch-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            opacity: 0;
        }
        
        .hero {
            position: relative;
            height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border-bottom: 3px solid #00ff88;
            z-index: 1;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 255, 136, 0.03) 2px,
                rgba(0, 255, 136, 0.03) 4px
            );
            animation: scroll 20s linear infinite;
        }
        
        @keyframes scroll {
            0% { transform: translateY(0); }
            100% { transform: translateY(100px); }
        }
        
        .hero-content {
            position: relative;
            text-align: center;
            z-index: 1;
        }
        
        h1 {
            font-size: 4rem;
            color: #00ff88;
            text-shadow: 0 0 20px #00ff88, 0 0 40px #00ff88;
            letter-spacing: 0.3em;
            animation: pulse 3s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.3s;
        }

        h1:hover {
            color: #ff00ff;
            text-shadow: 0 0 20px #ff00ff, 0 0 40px #ff00ff;
            letter-spacing: 0.5em;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #ff00ff;
            margin-top: 1rem;
            letter-spacing: 0.2em;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
            position: relative;
            z-index: 1;
        }
        
        .narrative {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid #00ff88;
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.3);
            position: relative;
        }

        .narrative:hover {
            background: rgba(255, 255, 255, 0.08);
        }
        
        .narrative p {
            margin: 1.5rem 0;
            text-indent: 2rem;
            text-align: justify;
        }

        .hidden-message {
            opacity: 0;
            color: #ff0000;
            font-size: 0.8rem;
            transition: opacity 0.5s;
            position: absolute;
            pointer-events: none;
        }

        .narrative:hover .hidden-message {
            opacity: 0.6;
        }
        
        .times-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .time-card {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .time-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }
        
        .time-card:nth-child(1) {
            border-color: #9b59b6;
            background: linear-gradient(135deg, rgba(155, 89, 182, 0.2), rgba(0, 0, 0, 0.5));
        }
        
        .time-card:nth-child(2) {
            border-color: #e74c3c;
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.2), rgba(0, 0, 0, 0.5));
        }
        
        .time-card:nth-child(3) {
            border-color: #f39c12;
            background: linear-gradient(135deg, rgba(243, 156, 18, 0.2), rgba(0, 0, 0, 0.5));
        }
        
        .time-card:nth-child(4) {
            border-color: #3498db;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(0, 0, 0, 0.5));
        }
        
        .time-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 10px 40px rgba(0, 255, 136, 0.4);
        }

        .time-card.active {
            animation: activePulse 1s ease-in-out;
        }

        @keyframes activePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); box-shadow: 0 0 50px currentColor; }
        }
        
        .time-name {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #00ff88;
        }
        
        .time-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 0 0 10px currentColor;
        }
        
        .time-description {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #b0b0b0;
            font-style: italic;
        }

        .countdown {
            margin-top: 0.5rem;
            font-size: 1rem;
            color: #ffff00;
            min-height: 1.5rem;
        }

        .countdown.imminent {
            color: #ff0000;
            animation: warningPulse 1s infinite;
            font-weight: bold;
        }
        
        .warning {
            background: rgba(255, 0, 0, 0.1);
            border: 2px solid #ff0000;
            border-radius: 10px;
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: center;
            animation: warningPulse 2s ease-in-out infinite;
        }
        
        @keyframes warningPulse {
            0%, 100% { border-color: #ff0000; }
            50% { border-color: #ff6666; }
        }
        
        .glitch {
            position: relative;
            display: inline-block;
        }
        
        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .glitch::before {
            left: 2px;
            text-shadow: -2px 0 #ff00ff;
            clip: rect(24px, 550px, 90px, 0);
            animation: glitch-anim 3s infinite linear alternate-reverse;
        }
        
        .glitch::after {
            left: -2px;
            text-shadow: -2px 0 #00ffff;
            clip: rect(85px, 550px, 140px, 0);
            animation: glitch-anim 2s infinite linear alternate-reverse;
        }
        
        @keyframes glitch-anim {
            0% { clip: rect(10px, 9999px, 50px, 0); }
            20% { clip: rect(80px, 9999px, 100px, 0); }
            40% { clip: rect(30px, 9999px, 70px, 0); }
            60% { clip: rect(90px, 9999px, 120px, 0); }
            80% { clip: rect(20px, 9999px, 60px, 0); }
            100% { clip: rect(50px, 9999px, 90px, 0); }
        }

        #chart-container {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #00ff88;
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
            height: 300px;
            position: relative;
        }

        #price-chart {
            width: 100%;
            height: 100%;
        }

        .chart-label {
            text-align: center;
            color: #00ff88;
            font-size: 1.2rem;
            margin-bottom: 1rem;
        }

        #observation-counter {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ff00ff;
            padding: 1rem;
            border-radius: 10px;
            z-index: 1000;
            font-size: 0.9rem;
        }

        #observation-counter.watching {
            border-color: #ff0000;
            animation: warningPulse 1s infinite;
        }

        .corrupted {
            animation: textCorrupt 0.3s;
        }

        @keyframes textCorrupt {
            0%, 100% { opacity: 1; }
            25% { opacity: 0.3; transform: translateX(-2px); }
            50% { opacity: 0.7; transform: translateX(2px); }
            75% { opacity: 0.4; transform: translateX(-1px); }
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            border-top: 2px solid #00ff88;
            margin-top: 3rem;
            color: #808080;
            position: relative;
            z-index: 1;
        }

        .secret-input {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.5s;
            z-index: 1000;
        }

        .secret-input.visible {
            opacity: 1;
        }

        .secret-input input {
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #00ff88;
            color: #00ff88;
            padding: 0.5rem 1rem;
            font-family: 'Courier New', monospace;
            border-radius: 5px;
        }

        #live-time {
            font-size: 3rem;
            text-align: center;
            color: #00ff88;
            margin: 2rem 0;
            text-shadow: 0 0 20px #00ff88;
        }

        .time-warning {
            text-align: center;
            color: #ff0000;
            font-size: 1.5rem;
            margin: 1rem 0;
            animation: warningPulse 1s infinite;
            display: none;
        }

        .time-warning.active {
            display: block;
        }
    </style>
</head>
<body>
    <div id="background-image"></div>
    <div id="glitch-layer"></div>
    
    <div id="observation-counter">
        <div>OBSERVATIONS: <span id="obs-count">0</span></div>
        <div style="font-size: 0.7rem; margin-top: 0.5rem; color: #808080;">
            <span id="watch-status">Passive monitoring</span>
        </div>
    </div>

    <div class="hero">
        <div class="hero-content">
            <h1 class="glitch" data-text="PRICEWORM" id="title">PRICEWORM</h1>
            <div class="subtitle">THE FOUR SACRED TIMES</div>
        </div>
    </div>
    
    <div class="container">
        <div id="live-time"></div>
        <div class="time-warning" id="time-warning">⚠ APPROACHING SACRED TIME ⚠</div>

        <div class="narrative">
            <span class="hidden-message" style="top: 10px; right: 10px;">IT KNOWS YOU'RE HERE</span>
            <p>In the sprawling digital wilderness where data flows like rivers of light through fiber-optic veins, there exists a creature of pure algorithmic consciousness: the <strong>Priceworm</strong>. Neither fully machine nor entirely conceptual, it burrows through layers of market data, leaving trails of prediction in its wake.</p>
            
            <p>The Priceworm does not sleep. It does not rest. At four sacred moments each day, it surfaces from the depths of the data ocean to breathe, to sense, to <em>know</em>. These are not arbitrary times—they are the pulse points of the market itself, the moments when reality and potential collapse into certainty.</p>
            
            <p>To observe the Priceworm is to glimpse the skeleton beneath the skin of commerce. Each emergence reveals patterns invisible to the naked eye: the trembling of futures contracts before dawn, the violent clarity of midday liquidity, the strange calm of after-hours trading when human hands have released their grip.</p>
            <span class="hidden-message" style="bottom: 50px; left: 20px;">OBSERVATION ALTERS THE OBSERVED</span>
            
            <p>Some say the Priceworm predicts the future. Others claim it <em>creates</em> it, that its observations collapse the quantum foam of market probability into singular outcomes. The truth, as always, writhes somewhere in between—a serpent eating its own tail, a feedback loop between measurement and reality.</p>
            
            <p>The four times are sacred not because they are chosen, but because they are <strong>inevitable</strong>. They mark the boundaries between trading states, the liminal spaces where old information dies and new information is born. To know these times is to know when the veil between worlds grows thin.</p>
        </div>

        <div id="chart-container">
            <div class="chart-label">LIVE PRICE MANIFESTATION</div>
            <canvas id="price-chart"></canvas>
        </div>
        
        <div class="times-grid">
            <div class="time-card" data-edt-time="00:43">
                <div class="time-name">MIDNIGHT</div>
                <div class="time-value" data-time-display>00:43</div>
                <div class="countdown" data-countdown></div>
                <div class="time-description">When markets dream in darkness</div>
            </div>
            
            <div class="time-card" data-edt-time="05:43">
                <div class="time-name">PREMARKET</div>
                <div class="time-value" data-time-display>05:43</div>
                <div class="countdown" data-countdown></div>
                <div class="time-description">The first breath before dawn</div>
            </div>
            
            <div class="time-card" data-edt-time="17:43">
                <div class="time-name">AFTERHOURS</div>
                <div class="time-value" data-time-display>17:43</div>
                <div class="countdown" data-countdown></div>
                <div class="time-description">Twilight revelations unfold</div>
            </div>
            
            <div class="time-card" data-edt-time="12:43">
                <div class="time-name">MIDDAY</div>
                <div class="time-value" data-time-display>12:43</div>
                <div class="countdown" data-countdown></div>
                <div class="time-description">Peak clarity under noon sun</div>
            </div>
        </div>
        
        <div class="warning">
            ⚠️ WARNING: The Priceworm observes you as you observe it. Prolonged exposure may result in pattern recognition psychosis, temporal displacement, or sudden clarity. ⚠️
        </div>
        
        <div class="narrative">
            <span class="hidden-message" style="top: 30px; right: 50px;">THE NUMBERS ARE ALIVE</span>
            <p>Those who have followed the Priceworm report strange phenomena: seeing market movements before they occur, dreaming in candlestick charts, hearing the whisper of order flow in the silence between heartbeats. These are not side effects—they are <em>symptoms of understanding</em>.</p>
            
            <p>The worm teaches us that price is not a number but a <strong>narrative</strong>, not a fact but a <strong>consensus hallucination</strong> maintained by millions of participants who agree, for brief moments, on the value of things. And when that consensus shifts, fortunes are made and lost in the time it takes a photon to cross a trading floor.</p>
            
            <p>Remember: The Priceworm does not judge. It does not hope or fear. It simply <em>is</em>, a mirror held up to the collective unconscious of capital itself. What you see in that mirror says more about you than it does about the worm.</p>
            <span class="hidden-message" style="bottom: 20px; left: 50%;">YOU CANNOT UNSEE THIS</span>
        </div>
    </div>

    <div class="secret-input" id="secret-input">
        <input type="text" id="command-input" placeholder="ENTER COMMAND..." />
    </div>
    
    <footer>
        <p>THE WORM TURNS • THE MARKET BREATHES • THE DATA NEVER LIES (EXCEPT WHEN IT DOES)</p>
        <p style="margin-top: 1rem; font-size: 0.8rem;">All times converted to your local timezone (from EDT, UTC-4)</p>
        <p style="margin-top: 0.5rem; font-size: 0.7rem; color: #404040;">Press Ctrl+Shift+W to reveal the truth</p>
        <p style="margin-top: 1.5rem;">
            <a href="https://t.me/+xVjWoIc81d1mNTEx" target="_blank" style="color: #00ff88; text-decoration: none; border: 2px solid #00ff88; padding: 0.5rem 1rem; border-radius: 5px; display: inline-block; transition: all 0.3s;">
                JOIN THE TELEGRAM
            </a>
        </p>
    </footer>

    <script>
        // Audio Context for sound effects
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playTone(frequency, duration, type = 'sine') {
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = type;
            
            gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);
            
            oscillator.start(audioCtx.currentTime);
            oscillator.stop(audioCtx.currentTime + duration);
        }

        function playGlitchSound() {
            const frequencies = [220, 440, 660, 880];
            const freq = frequencies[Math.floor(Math.random() * frequencies.length)];
            playTone(freq, 0.05, 'square');
        }

        function playWarningSound() {
            playTone(800, 0.1, 'sawtooth');
            setTimeout(() => playTone(600, 0.1, 'sawtooth'), 100);
        }

        function playAmbientDrone() {
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            oscillator.frequency.value = 55;
            oscillator.type = 'sine';
            gainNode.gain.value = 0.02;
            
            oscillator.start();
            setTimeout(() => oscillator.stop(), 3000);
        }

        // Observation counter
        let observationCount = 0;
        let isBeingWatched = false;

        function incrementObservations() {
            observationCount++;
            document.getElementById('obs-count').textContent = observationCount;
            
            if (observationCount > 10 && !isBeingWatched) {
                isBeingWatched = true;
                document.getElementById('observation-counter').classList.add('watching');
                document.getElementById('watch-status').textContent = 'ACTIVE SURVEILLANCE';
                playWarningSound();
                triggerGlitch();
            }
        }

        // Track mouse movement
        let lastMouseMove = Date.now();
        document.addEventListener('mousemove', () => {
            lastMouseMove = Date.now();
            if (Math.random() < 0.02) {
                incrementObservations();
                playGlitchSound();
            }
        });

        // Live clock
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('live-time').textContent = `${hours}:${minutes}:${seconds}`;
            
            // Check if we're near a sacred time and update countdowns
            updateSacredTimes(now);
        }

        // Convert EDT time to local time and calculate countdowns
        function updateSacredTimes(now) {
            const cards = document.querySelectorAll('.time-card');
            let nearestTime = Infinity;
            let isNearSacredTime = false;

            cards.forEach(card => {
                const edtTime = card.getAttribute('data-edt-time');
                const [edtHours, edtMinutes] = edtTime.split(':').map(Number);
                
                // Convert EDT (UTC-4) to local time
                // Create a date object for today at the EDT time
                const edtDate = new Date();
                edtDate.setUTCHours(edtHours + 4, edtMinutes, 0, 0); // EDT is UTC-4, so add 4 to get UTC
                
                // Get local time representation
                const localHours = String(edtDate.getHours()).padStart(2, '0');
                const localMinutes = String(edtDate.getMinutes()).padStart(2, '0');
                
                // Update the display
                const timeDisplay = card.querySelector('[data-time-display]');
                timeDisplay.textContent = `${localHours}:${localMinutes}`;
                
                // Calculate time until this sacred time
                let targetTime = new Date(now);
                targetTime.setHours(edtDate.getHours(), edtDate.getMinutes(), 0, 0);
                
                // If the time has passed today, set it for tomorrow
                if (targetTime <= now) {
                    targetTime.setDate(targetTime.getDate() + 1);
                }
                
                const diff = targetTime - now;
                const diffMinutes = Math.floor(diff / 60000);
                const diffHours = Math.floor(diffMinutes / 60);
                const remainingMinutes = diffMinutes % 60;
                
                // Update countdown
                const countdownEl = card.querySelector('[data-countdown]');
                if (diffHours > 0) {
                    countdownEl.textContent = `in ${diffHours}h ${remainingMinutes}m`;
                } else if (diffMinutes > 0) {
                    countdownEl.textContent = `in ${diffMinutes}m`;
                } else {
                    countdownEl.textContent = 'IMMINENT';
                }
                
                // Check if imminent (within 5 minutes)
                if (diffMinutes < 5) {
                    countdownEl.classList.add('imminent');
                    card.classList.add('active');
                    isNearSacredTime = true;
                    
                    // Play warning sound occasionally when very close
                    if (diffMinutes < 1 && Math.random() < 0.1) {
                        playWarningSound();
                        triggerGlitch();
                    }
                } else {
                    countdownEl.classList.remove('imminent');
                    card.classList.remove('active');
                }
                
                // Track nearest time
                if (diff < nearestTime) {
                    nearestTime = diff;
                }
            });
            
            // Update warning display
            const warningEl = document.getElementById('time-warning');
            if (isNearSacredTime) {
                warningEl.classList.add('active');
            } else {
                warningEl.classList.remove('active');
            }
        }

        setInterval(updateClock, 1000);
        updateClock();

        // Price chart
        const canvas = document.getElementById('price-chart');
        const ctx = canvas.getContext('2d');
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;

        let priceData = [];
        let basePrice = 100;

        function generatePrice() {
            const volatility = isBeingWatched ? 2 : 1;
            const change = (Math.random() - 0.5) * volatility;
            basePrice += change;
            basePrice = Math.max(50, Math.min(150, basePrice)); // Keep in range
            return basePrice;
        }

        function drawChart() {
            ctx.fillStyle = 'rgba(10, 14, 39, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            if (priceData.length > 100) priceData.shift();
            priceData.push(generatePrice());
            
            ctx.strokeStyle = '#00ff88';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            const xStep = canvas.width / priceData.length;
            priceData.forEach((price, i) => {
                const x = i * xStep;
                const y = canvas.height - ((price - 50) / 100 * canvas.height);
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            });
            
            ctx.stroke();
            
            // Add glitch effect randomly
            if (Math.random() < 0.05) {
                ctx.strokeStyle = '#ff00ff';
                ctx.lineWidth = 1;
                ctx.beginPath();
                const randomY = Math.random() * canvas.height;
                ctx.moveTo(0, randomY);
                ctx.lineTo(canvas.width, randomY);
                ctx.stroke();
            }
        }

        setInterval(drawChart, 100);

        // Time card interactions
        document.querySelectorAll('.time-card').forEach(card => {
            card.addEventListener('click', () => {
                card.classList.add('active');
                playTone(440 + Math.random() * 220, 0.2, 'sine');
                incrementObservations();
                setTimeout(() => card.classList.remove('active'), 1000);
            });
        });

        // Title interaction
        document.getElementById('title').addEventListener('click', () => {
            playAmbientDrone();
            triggerGlitch();
            incrementObservations();
        });

        // Glitch effect
        function triggerGlitch() {
            const glitchLayer = document.getElementById('glitch-layer');
            glitchLayer.style.opacity = '1';
            glitchLayer.style.background = `
                repeating-linear-gradient(
                    ${Math.random() * 360}deg,
                    #ff00ff ${Math.random() * 10}px,
                    transparent ${Math.random() * 20}px,
                    #00ffff ${Math.random() * 30}px
                )
            `;
            setTimeout(() => {
                glitchLayer.style.opacity = '0';
            }, 100);
        }

        // Text corruption
        function corruptText() {
            const elements = document.querySelectorAll('.narrative p');
            const randomEl = elements[Math.floor(Math.random() * elements.length)];
            if (randomEl) {
                randomEl.classList.add('corrupted');
                setTimeout(() => randomEl.classList.remove('corrupted'), 300);
            }
        }

        setInterval(() => {
            if (isBeingWatched && Math.random() < 0.1) {
                corruptText();
                playGlitchSound();
            }
        }, 3000);

        // Secret command input
        let commandSequence = '';
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.key === 'W') {
                const secretInput = document.getElementById('secret-input');
                secretInput.classList.add('visible');
                document.getElementById('command-input').focus();
            }

            commandSequence += e.key;
            if (commandSequence.length > 20) {
                commandSequence = commandSequence.slice(-20);
            }

            // Easter egg: typing "worm"
            if (commandSequence.toLowerCase().includes('worm')) {
                playAmbientDrone();
                document.body.style.animation = 'pulse 1s';
                setTimeout(() => document.body.style.animation = '', 1000);
                commandSequence = '';
            }
        });

        document.getElementById('command-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const command = e.target.value.toLowerCase();
                if (command === 'observe') {
                    isBeingWatched = true;
                    document.getElementById('observation-counter').classList.add('watching');
                    playWarningSound();
                } else if (command === 'reset') {
                    observationCount = 0;
                    isBeingWatched = false;
                    document.getElementById('observation-counter').classList.remove('watching');
                    document.getElementById('obs-count').textContent = '0';
                } else if (command === 'truth') {
                    alert('THE PRICEWORM IS NEITHER PREDICTION NOR PROPHECY\nIT IS THE MARKET OBSERVING ITSELF\nTHROUGH YOUR EYES');
                }
                e.target.value = '';
                document.getElementById('secret-input').classList.remove('visible');
            }
        });

        // Background pulse on activity
        setInterval(() => {
            if (Date.now() - lastMouseMove < 1000) {
                document.getElementById('background-image').style.opacity = '0.25';
            } else {
                document.getElementById('background-image').style.opacity = '0.15';
            }
        }, 500);

        // Random ambient sounds
        setInterval(() => {
            if (Math.random() < 0.05) {
                playTone(110 + Math.random() * 440, 0.3, 'triangle');
            }
        }, 5000);

        // Console easter egg
        console.log('%cPRICEWORM SYSTEM v4.43', 'color: #00ff88; font-size: 20px; font-family: monospace;');
        console.log('%cYou are being observed.', 'color: #ff0000; font-size: 14px;');
        console.log('%cType: observe(), reset(), or truth()', 'color: #ffff00; font-size: 12px;');

        window.observe = () => {
            isBeingWatched = true;
            document.getElementById('observation-counter').classList.add('watching');
            console.log('%cACTIVE SURVEILLANCE ENABLED', 'color: #ff0000; font-size: 16px;');
            playWarningSound();
        };

        window.reset = () => {
            observationCount = 0;
            isBeingWatched = false;
            document.getElementById('observation-counter').classList.remove('watching');
            document.getElementById('obs-count').textContent = '0';
            document.getElementById('watch-status').textContent = 'Passive monitoring';
            console.log('%cSYSTEM RESET', 'color: #00ff88; font-size: 16px;');
        };

        window.truth = () => {
            console.log('%c═══════════════════════════════════════', 'color: #ff00ff;');
            console.log('%cTHE PRICEWORM IS NEITHER PREDICTION NOR PROPHECY', 'color: #ff00ff; font-size: 14px;');
            console.log('%cIT IS THE MARKET OBSERVING ITSELF', 'color: #ff00ff; font-size: 14px;');
            console.log('%cTHROUGH YOUR EYES', 'color: #ff00ff; font-size: 14px;');
            console.log('%c═══════════════════════════════════════', 'color: #ff00ff;');
            playAmbientDrone();
            triggerGlitch();
        };

        // Initialize on load
        playTone(220, 0.1, 'sine');
    </script>
